{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhaval agrawal\\\\OneDrive\\\\Desktop\\\\triprtrail\\\\src\\\\Components\\\\GetDataFromForm.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class GetDataFromForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(token);\n      axios.get(`https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=${this.props.source}&destinationLocationCode=${this.props.destination}&departureDate=${this.props.departureDate}&adults=1&travelClass=ECONOMY`, {\n        headers: {\n          Authorization: `Bearer ${this.state.token} `\n        }\n      }).then(response => {\n        console.log(JSON.stringify(response.data));\n      }).catch(error => {\n        console.log('error encountered: ' + error);\n      });\n    };\n\n    this.state = {\n      token: ''\n    };\n  }\n\n  componentDidMount() {\n    const axios = require('axios');\n\n    var qs = require('qs');\n\n    var data = qs.stringify({\n      grant_type: 'client_credentials',\n      client_id: 'egdfiMPA4upZ4DG3BXGuyPxqfFAetEVH',\n      client_secret: 'bfPfw4TLGRkiF59F'\n    });\n    var config = {\n      method: 'post',\n      url: 'https://test.api.amadeus.com/v1/security/oauth2/token',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      data: data\n    };\n    axios(config).then(response => {\n      this.setState({\n        token: response.data.access_token\n      });\n      console.log(JSON.stringify(response.data));\n      console.log(token);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleSubmit,\n        children: \"Submit Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.props.source\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.props.destination\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.props.returnDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default GetDataFromForm;","map":{"version":3,"sources":["C:/Users/dhaval agrawal/OneDrive/Desktop/triprtrail/src/Components/GetDataFromForm.js"],"names":["React","Component","axios","GetDataFromForm","constructor","props","handleSubmit","event","preventDefault","console","log","token","get","source","destination","departureDate","headers","Authorization","state","then","response","JSON","stringify","data","catch","error","componentDidMount","require","qs","grant_type","client_id","client_secret","config","method","url","setState","access_token","render","returnDate"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,OAAO,MAAMC,eAAN,SAA8BF,SAA9B,CAAwC;AAC7CG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAsCnBC,YAtCmB,GAsCHC,KAAD,IAAW;AACxBA,MAAAA,KAAK,CAACC,cAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACAT,MAAAA,KAAK,CACFU,GADH,CAEK,6EAA4E,KAAKP,KAAL,CAAWQ,MAAO,4BAA2B,KAAKR,KAAL,CAAWS,WAAY,kBAAiB,KAAKT,KAAL,CAAWU,aAAc,+BAF/L,EAGI;AACEC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAAS,KAAKC,KAAL,CAAWP,KAAM;AADnC;AADX,OAHJ,EASGQ,IATH,CASSC,QAAD,IAAc;AAClBX,QAAAA,OAAO,CAACC,GAAR,CAAYW,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAACG,IAAxB,CAAZ;AACD,OAXH,EAYGC,KAZH,CAYUC,KAAD,IAAW;AAChBhB,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAwBe,KAApC;AACD,OAdH;AAeD,KAxDkB;;AAGjB,SAAKP,KAAL,GAAa;AACXP,MAAAA,KAAK,EAAE;AADI,KAAb;AAGD;;AAEDe,EAAAA,iBAAiB,GAAG;AAClB,UAAMxB,KAAK,GAAGyB,OAAO,CAAC,OAAD,CAArB;;AACA,QAAIC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAhB;;AACA,QAAIJ,IAAI,GAAGK,EAAE,CAACN,SAAH,CAAa;AACtBO,MAAAA,UAAU,EAAE,oBADU;AAEtBC,MAAAA,SAAS,EAAE,kCAFW;AAGtBC,MAAAA,aAAa,EAAE;AAHO,KAAb,CAAX;AAKA,QAAIC,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAE,MADG;AAEXC,MAAAA,GAAG,EAAE,uDAFM;AAGXlB,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHE;AAMXO,MAAAA,IAAI,EAAEA;AANK,KAAb;AASArB,IAAAA,KAAK,CAAC8B,MAAD,CAAL,CACGb,IADH,CACSC,QAAD,IAAc;AAClB,WAAKe,QAAL,CAAc;AACZxB,QAAAA,KAAK,EAAES,QAAQ,CAACG,IAAT,CAAca;AADT,OAAd;AAGA3B,MAAAA,OAAO,CAACC,GAAR,CAAYW,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAACG,IAAxB,CAAZ;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,KAPH,EAQGa,KARH,CAQUC,KAAD,IAAW;AAChBhB,MAAAA,OAAO,CAACC,GAAR,CAAYe,KAAZ;AACD,KAVH;AAWD;;AAsBDY,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE;AAAQ,QAAA,OAAO,EAAE,KAAK/B,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,kBAAK,KAAKD,KAAL,CAAWQ;AAAhB;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA,kBAAK,KAAKR,KAAL,CAAWS;AAAhB;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAA,kBAAK,KAAKT,KAAL,CAAWiC;AAAhB;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AApE4C;AAuE/C,eAAenC,eAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport class GetDataFromForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      token: '',\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const axios = require('axios')\r\n    var qs = require('qs')\r\n    var data = qs.stringify({\r\n      grant_type: 'client_credentials',\r\n      client_id: 'egdfiMPA4upZ4DG3BXGuyPxqfFAetEVH',\r\n      client_secret: 'bfPfw4TLGRkiF59F',\r\n    })\r\n    var config = {\r\n      method: 'post',\r\n      url: 'https://test.api.amadeus.com/v1/security/oauth2/token',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n      data: data,\r\n    }\r\n\r\n    axios(config)\r\n      .then((response) => {\r\n        this.setState({\r\n          token: response.data.access_token,\r\n        })\r\n        console.log(JSON.stringify(response.data))\r\n        console.log(token)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    console.log(token)\r\n    axios\r\n      .get(\r\n        `https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=${this.props.source}&destinationLocationCode=${this.props.destination}&departureDate=${this.props.departureDate}&adults=1&travelClass=ECONOMY`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${this.state.token} `,\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        console.log(JSON.stringify(response.data))\r\n      })\r\n      .catch((error) => {\r\n        console.log('error encountered: ' + error)\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button onClick={this.handleSubmit}>Submit Data</button>\r\n        <h1>{this.props.source}</h1>\r\n        <h1>{this.props.destination}</h1>\r\n        <h1>{this.props.returnDate}</h1>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GetDataFromForm\r\n"]},"metadata":{},"sourceType":"module"}