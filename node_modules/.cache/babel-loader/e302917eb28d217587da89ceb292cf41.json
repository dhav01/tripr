{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhaval agrawal\\\\OneDrive\\\\Desktop\\\\triprtrail\\\\src\\\\Components\\\\GetDataFromForm.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport fire from './Firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n/*#__PURE__*/\n_jsxDEV(\"script\", {\n  src: \"https://unpkg.com/querybase@0.6.0\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 4,\n  columnNumber: 2\n}, this);\n\nvar dup = [{}];\nvar temp = [{}];\nexport class GetDataFromForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchValue = val => {\n      for (var i = 0; i < val.length; i++) {\n        if (val[i].source == 'vadodara' && val[i] == 'delhi') {\n          this.setState({\n            flight: [...this.state.flight, dup[i]]\n          });\n        }\n      }\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let refernce = fire.database().ref('Search');\n      const data = {\n        source: this.props.source,\n        destination: this.props.destination,\n        departureDate: this.props.departureDate,\n        string: 'dhaval agrawal'\n      };\n      refernce.push(data); // fire\n      //   .database()\n      //   .ref('search')\n      //   .ref('destination')\n      //   .push(this.props.destination)\n      // fire.database().ref('search'). .push('hello dhaval')\n    };\n\n    this.state = {\n      flight: [{} // {\n      //   carrier: 'air France',\n      //   aircraft: 'Boeing 777',\n      //   depDate: 'dfsdss',\n      //   arrDate: 'czczxcz',\n      // },\n      ] //hello: [1, 2, 3, 4],\n\n    };\n  }\n\n  componentDidMount() {\n    var ref = fire.database().ref().child('FlightsData'); // const querybase = require('querybase')\n    // const query = querybase.ref(ref, ['source', 'destination'])\n    // var queryComplete = query.where({\n    //   source: 'vadodara',\n    //   destination: 'delhi',\n    // })\n    // var count = -1\n\n    ref.on('value', snap => {\n      dup = snap.val();\n      console.log(dup); // this.setState({\n      //   flight: snap.val(),\n      // })\n\n      this.fetchValue(dup);\n    });\n    console.log('object: ' + this.state.flight[0]); // ref.once('value', (snap) => {\n    //   // console.log(snap.val())\n    //   // console.log('key: ' + snap.key)\n    //   snap.forEach((dhaval) => {\n    //     var data = dhaval.val()\n    //     console.log('data: ' + data)\n    //   })\n    // })\n    // for (var i = 0; i < dup.length; i = i + 1) {\n    //   console.log('tata')\n    //   if (dup[0]['source'] == 'vadodara') {\n    //     // this.setState({\n    //     //   flight: dup,\n    //     // })\n    //     // alert(dup[i])\n    //     temp[0] = dup[0]\n    //   } else {\n    //     // alert('tirth : ' + i)\n    //   }\n    // }\n\n    console.log('temp : ' + this.state.flight[0]); // for (var i = 0; i < dup.length; i++) {\n    //   if (dup[i].source == 'vadodara' && dup[i].destination == 'delhi') {\n    //     console.log('baroda')\n    //     this.setState({\n    //       flight: [...this.state.flight, dup[i]],\n    //     })\n    //   } else {\n    //     console.log('not working')\n    //   }\n    // }\n\n    console.log('value of flight: ' + this.state.flight);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleSubmit,\n        children: \"Submit Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), Object.entries(this.state.flight).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: value.source\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: value.destination\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: value.seats\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: value.deptDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default GetDataFromForm;","map":{"version":3,"sources":["C:/Users/dhaval agrawal/OneDrive/Desktop/triprtrail/src/Components/GetDataFromForm.js"],"names":["React","Component","axios","fire","dup","temp","GetDataFromForm","constructor","props","fetchValue","val","i","length","source","setState","flight","state","handleSubmit","event","preventDefault","refernce","database","ref","data","destination","departureDate","string","push","componentDidMount","child","on","snap","console","log","render","Object","entries","map","key","value","seats","deptDate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport fire from './Firebase'\r\n;<script src='https://unpkg.com/querybase@0.6.0'></script>\r\n\r\nvar dup = [{}]\r\nvar temp = [{}]\r\nexport class GetDataFromForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      flight: [\r\n        {},\r\n        // {\r\n        //   carrier: 'air France',\r\n        //   aircraft: 'Boeing 777',\r\n        //   depDate: 'dfsdss',\r\n        //   arrDate: 'czczxcz',\r\n        // },\r\n      ],\r\n      //hello: [1, 2, 3, 4],\r\n    }\r\n  }\r\n\r\n  fetchValue = (val) => {\r\n    for (var i = 0; i < val.length; i++) {\r\n      if (val[i].source == 'vadodara' && val[i] == 'delhi') {\r\n        this.setState({\r\n          flight: [...this.state.flight, dup[i]],\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    var ref = fire.database().ref().child('FlightsData')\r\n    // const querybase = require('querybase')\r\n    // const query = querybase.ref(ref, ['source', 'destination'])\r\n    // var queryComplete = query.where({\r\n    //   source: 'vadodara',\r\n    //   destination: 'delhi',\r\n    // })\r\n    // var count = -1\r\n    ref.on('value', (snap) => {\r\n      dup = snap.val()\r\n      console.log(dup)\r\n      // this.setState({\r\n      //   flight: snap.val(),\r\n      // })\r\n      this.fetchValue(dup)\r\n    })\r\n    console.log('object: ' + this.state.flight[0])\r\n\r\n    // ref.once('value', (snap) => {\r\n    //   // console.log(snap.val())\r\n    //   // console.log('key: ' + snap.key)\r\n    //   snap.forEach((dhaval) => {\r\n    //     var data = dhaval.val()\r\n    //     console.log('data: ' + data)\r\n    //   })\r\n    // })\r\n    // for (var i = 0; i < dup.length; i = i + 1) {\r\n    //   console.log('tata')\r\n    //   if (dup[0]['source'] == 'vadodara') {\r\n    //     // this.setState({\r\n    //     //   flight: dup,\r\n    //     // })\r\n    //     // alert(dup[i])\r\n    //     temp[0] = dup[0]\r\n    //   } else {\r\n    //     // alert('tirth : ' + i)\r\n    //   }\r\n    // }\r\n\r\n    console.log('temp : ' + this.state.flight[0])\r\n    // for (var i = 0; i < dup.length; i++) {\r\n    //   if (dup[i].source == 'vadodara' && dup[i].destination == 'delhi') {\r\n    //     console.log('baroda')\r\n    //     this.setState({\r\n    //       flight: [...this.state.flight, dup[i]],\r\n    //     })\r\n    //   } else {\r\n    //     console.log('not working')\r\n    //   }\r\n    // }\r\n    console.log('value of flight: ' + this.state.flight)\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    let refernce = fire.database().ref('Search')\r\n    const data = {\r\n      source: this.props.source,\r\n      destination: this.props.destination,\r\n      departureDate: this.props.departureDate,\r\n      string: 'dhaval agrawal',\r\n    }\r\n\r\n    refernce.push(data)\r\n    // fire\r\n    //   .database()\r\n    //   .ref('search')\r\n    //   .ref('destination')\r\n    //   .push(this.props.destination)\r\n    // fire.database().ref('search'). .push('hello dhaval')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button onClick={this.handleSubmit}>Submit Data</button>\r\n        {/* //if dup.destination == 'delhi' */}\r\n        {/* {this.state.flight.map((num) => (\r\n          <>\r\n            <div>{num.source}</div>\r\n            <div>{num.destination}</div>\r\n            <div>{num.seats}</div>\r\n            <div>{num.deptDate}</div>\r\n          </>\r\n        ))} */}\r\n        {Object.entries(this.state.flight).map(([key, value]) => (\r\n          <div key={key}>\r\n            <div>{value.source}</div>\r\n            <div>{value.destination}</div>\r\n            <div>{value.seats}</div>\r\n            <div>{value.deptDate}</div>\r\n            {/* {console.log('hello' + value)}; */}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GetDataFromForm\r\n"]},"metadata":{},"sourceType":"module"}