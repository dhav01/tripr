{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhaval agrawal\\\\OneDrive\\\\Desktop\\\\triprtrail\\\\src\\\\Components\\\\GetDataFromForm.js\";\nimport React, { Component } from 'react';\nimport fire from './Firebase';\nimport '../Components/Style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar dup = [{}];\nvar temp = [{}];\nexport class GetDataFromForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      if (fire.auth().currentUser != null) {\n        console.log('user' + fire.auth().currentUser.uid);\n      }\n\n      e.preventDefault();\n\n      for (var i = 0; i < dup.length; i++) {\n        if (dup[i].deptDate === this.props.departureDate && dup[i].destination === this.props.destination && dup[i].source === this.props.source) {\n          temp[i] = dup[i];\n          console.log('data found at: ' + i);\n        } else {\n          console.log('different data');\n        }\n      }\n\n      console.log('size of temp: ' + temp.length);\n      this.setState({\n        flight: temp\n      });\n      temp = [{}]; // refernce.push(data)\n      // fire\n      //   .database()\n      //   .ref('search')\n      //   .ref('destination')\n      //   .push(this.props.destination)\n      // fire.database().ref('search'). .push('hello dhaval')\n    };\n\n    this.state = {\n      flight: [],\n      showMore: {}\n    };\n  }\n\n  componentDidMount() {\n    console.log('ComponentDidMount method called');\n    var ref = fire.database().ref().child('FlightsData');\n    ref.on('value', snap => {\n      dup = snap.val();\n      console.log(dup);\n    });\n  }\n\n  // handleInfo = (value) => (event) => {\n  //   event.preventDefault()\n  //   {\n  //     alert(value.seats)\n  //   }\n  //   return <h1>{value.seats}</h1>\n  // }\n  handleInfo(key) {\n    //alert('value:' + para.seats)\n    this.setState(prevState => ({\n      showMore: {\n        [key]: !(Object.keys(prevState.showMore).length > 0 && prevState.showMore[key])\n      }\n    })); // let ref = fire.database().ref('history')\n    // ref.child(fire.auth().currentUser.uid).push(key)\n  } // info = (value) => {\n  //   return this.state.showMore ? <div>{value.seats}</div> : null\n  // }\n  // renderMap = () => {\n  //   console.log(this.state.flight.length)\n  //   return Object.entries(this.state.flight).map(([key, value]) => (\n  //     <div key={key}>\n  //       <div class='cardview'>\n  //         <div class='source'>{value.source}</div>\n  //         <div class='destination'>{value.destination}</div>\n  //         <div class='departure'>{value.deptDate}</div>\n  //         <button\n  //           class='info-btn'\n  //           hidden={value.seats == null ? true : false}\n  //           onClick={(e) => {\n  //             e.preventDefault()\n  //             this.handleInfo(key)\n  //           }}\n  //         >\n  //           More info\n  //         </button>\n  //         {Object.keys(this.state.showMore).length > 0 &&\n  //           this.state.showMore[key] && (\n  //             <div class='more-info' id={`id-${key}`}>\n  //               {' '}\n  //               <p id='seats'>Seats Available: </p> {value.seats}\n  //             </div>\n  //           )}\n  //       </div>\n  //     </div>\n  //   ))\n  // }\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"sub-btn\",\n        onClick: this.handleSubmit,\n        children: \"Submit Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), Object.entries(this.state.flight).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"cardview\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"source\",\n            children: value.source\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"destination\",\n            children: value.destination\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"departure\",\n            children: value.deptDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"info-btn\",\n            hidden: value.seats == null ? true : false,\n            onClick: e => {\n              e.preventDefault();\n              this.handleInfo(key);\n            },\n            children: \"More info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), Object.keys(this.state.showMore).length > 0 && this.state.showMore[key] && /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"more-info\",\n            id: `id-${key}`,\n            children: [' ', /*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"seats\",\n              children: \"Seats Available: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 21\n            }, this), \" \", value.seats]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default GetDataFromForm;","map":{"version":3,"sources":["C:/Users/dhaval agrawal/OneDrive/Desktop/triprtrail/src/Components/GetDataFromForm.js"],"names":["React","Component","fire","dup","temp","GetDataFromForm","constructor","props","handleSubmit","e","auth","currentUser","console","log","uid","preventDefault","i","length","deptDate","departureDate","destination","source","setState","flight","state","showMore","componentDidMount","ref","database","child","on","snap","val","handleInfo","key","prevState","Object","keys","render","entries","map","value","seats"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport fire from './Firebase'\r\nimport '../Components/Style.css'\r\n\r\nvar dup = [{}]\r\nvar temp = [{}]\r\nexport class GetDataFromForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      flight: [],\r\n      showMore: {},\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('ComponentDidMount method called')\r\n    var ref = fire.database().ref().child('FlightsData')\r\n    ref.on('value', (snap) => {\r\n      dup = snap.val()\r\n      console.log(dup)\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    if (fire.auth().currentUser != null) {\r\n      console.log('user' + fire.auth().currentUser.uid)\r\n    }\r\n    e.preventDefault()\r\n\r\n    for (var i = 0; i < dup.length; i++) {\r\n      if (\r\n        dup[i].deptDate === this.props.departureDate &&\r\n        dup[i].destination === this.props.destination &&\r\n        dup[i].source === this.props.source\r\n      ) {\r\n        temp[i] = dup[i]\r\n        console.log('data found at: ' + i)\r\n      } else {\r\n        console.log('different data')\r\n      }\r\n    }\r\n    console.log('size of temp: ' + temp.length)\r\n\r\n    this.setState({\r\n      flight: temp,\r\n    })\r\n    temp = [{}]\r\n\r\n    // refernce.push(data)\r\n    // fire\r\n    //   .database()\r\n    //   .ref('search')\r\n    //   .ref('destination')\r\n    //   .push(this.props.destination)\r\n    // fire.database().ref('search'). .push('hello dhaval')\r\n  }\r\n\r\n  // handleInfo = (value) => (event) => {\r\n  //   event.preventDefault()\r\n  //   {\r\n  //     alert(value.seats)\r\n  //   }\r\n  //   return <h1>{value.seats}</h1>\r\n  // }\r\n\r\n  handleInfo(key) {\r\n    //alert('value:' + para.seats)\r\n    this.setState((prevState) => ({\r\n      showMore: {\r\n        [key]: !(\r\n          Object.keys(prevState.showMore).length > 0 && prevState.showMore[key]\r\n        ),\r\n      },\r\n    }))\r\n\r\n    // let ref = fire.database().ref('history')\r\n    // ref.child(fire.auth().currentUser.uid).push(key)\r\n  }\r\n\r\n  // info = (value) => {\r\n  //   return this.state.showMore ? <div>{value.seats}</div> : null\r\n  // }\r\n\r\n  // renderMap = () => {\r\n  //   console.log(this.state.flight.length)\r\n  //   return Object.entries(this.state.flight).map(([key, value]) => (\r\n  //     <div key={key}>\r\n  //       <div class='cardview'>\r\n  //         <div class='source'>{value.source}</div>\r\n  //         <div class='destination'>{value.destination}</div>\r\n  //         <div class='departure'>{value.deptDate}</div>\r\n  //         <button\r\n  //           class='info-btn'\r\n  //           hidden={value.seats == null ? true : false}\r\n  //           onClick={(e) => {\r\n  //             e.preventDefault()\r\n  //             this.handleInfo(key)\r\n  //           }}\r\n  //         >\r\n  //           More info\r\n  //         </button>\r\n  //         {Object.keys(this.state.showMore).length > 0 &&\r\n  //           this.state.showMore[key] && (\r\n  //             <div class='more-info' id={`id-${key}`}>\r\n  //               {' '}\r\n  //               <p id='seats'>Seats Available: </p> {value.seats}\r\n  //             </div>\r\n  //           )}\r\n  //       </div>\r\n  //     </div>\r\n  //   ))\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button class='sub-btn' onClick={this.handleSubmit}>\r\n          Submit Data\r\n        </button>\r\n        {Object.entries(this.state.flight).map(([key, value]) => (\r\n          <div key={key}>\r\n            <div class='cardview'>\r\n              <div class='source'>{value.source}</div>\r\n              <div class='destination'>{value.destination}</div>\r\n              <div class='departure'>{value.deptDate}</div>\r\n              <button\r\n                class='info-btn'\r\n                hidden={value.seats == null ? true : false}\r\n                onClick={(e) => {\r\n                  e.preventDefault()\r\n                  this.handleInfo(key)\r\n                }}\r\n              >\r\n                More info\r\n              </button>\r\n              {Object.keys(this.state.showMore).length > 0 &&\r\n                this.state.showMore[key] && (\r\n                  <div class='more-info' id={`id-${key}`}>\r\n                    {' '}\r\n                    <p id='seats'>Seats Available: </p> {value.seats}\r\n                  </div>\r\n                )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GetDataFromForm\r\n"]},"metadata":{},"sourceType":"module"}